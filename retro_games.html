<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì˜¤íŠ¸ë¡  ë ˆíŠ¸ë¡œ ê²Œì„ ì»¬ë ‰ì…˜</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            background: #000;
            color: #fff;
            font-family: 'Courier New', monospace;
            overflow: hidden;
        }
        
        .container {
            width: 100vw;
            height: 100vh;
            display: flex;
            flex-direction: column;
        }
        
        .header {
            background: #111;
            padding: 10px;
            border-bottom: 2px solid #fff;
        }
        
        .title {
            text-align: center;
            font-size: 24px;
            margin-bottom: 10px;
            color: #0ff;
        }
        
        .tabs {
            display: flex;
            justify-content: center;
            gap: 5px;
        }
        
        .tab {
            padding: 8px 16px;
            background: #333;
            border: 2px solid #fff;
            color: #fff;
            cursor: pointer;
            font-family: inherit;
            font-size: 14px;
            transition: all 0.1s;
        }
        
        .tab.active {
            background: #fff;
            color: #000;
        }
        
        .tab:hover {
            background: #555;
        }
        
        .tab.active:hover {
            background: #fff;
        }
        
        .game-area {
            flex: 1;
            position: relative;
            overflow: hidden;
        }
        
        canvas {
            background: #000;
            display: block;
            margin: 0 auto;
            border: 2px solid #fff;
        }
        
        .game-info {
            position: absolute;
            top: 10px;
            left: 10px;
            font-size: 16px;
            color: #0ff;
        }
        
        .score {
            position: absolute;
            top: 10px;
            right: 10px;
            font-size: 18px;
            color: #ff0;
        }
        
        .controls {
            position: absolute;
            bottom: 10px;
            left: 10px;
            font-size: 12px;
            color: #888;
        }
        
        .game-over {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            text-align: center;
            font-size: 24px;
            color: #f00;
            background: rgba(0,0,0,0.8);
            padding: 20px;
            border: 2px solid #fff;
            display: none;
        }
        
        @media (max-width: 768px) {
            .title { font-size: 18px; }
            .tab { padding: 6px 12px; font-size: 12px; }
            .controls { font-size: 10px; }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1 class="title">ğŸ® ì˜¤íŠ¸ë¡  ë ˆíŠ¸ë¡œ ê²Œì„ ì»¬ë ‰ì…˜ ğŸ®</h1>
            <div class="tabs">
                <button class="tab active" data-game="pong">í…Œë‹ˆìŠ¤</button>
                <button class="tab" data-game="soccer">ì¶•êµ¬</button>
                <button class="tab" data-game="squash">ìŠ¤ì¿¼ì‹œ</button>
                <button class="tab" data-game="shooting">ì‚¬ê²©</button>
            </div>
        </div>
        <div class="game-area">
            <canvas id="gameCanvas"></canvas>
            <div class="game-info" id="gameInfo">ì¡°ì‘: W/S (Player1), â†‘/â†“ (Player2), Space (ì¼ì‹œì •ì§€)</div>
            <div class="score" id="score">ì ìˆ˜: 0 - 0</div>
            <div class="controls" id="controls">
                í…Œë‹ˆìŠ¤: íŒ¨ë“¤ì„ ì›€ì§ì—¬ ê³µì„ ìƒëŒ€ë°© ìª½ìœ¼ë¡œ íŠ•ê²¨ë³´ì„¸ìš”!
            </div>
            <div class="game-over" id="gameOver">
                <div>ê²Œì„ ì˜¤ë²„!</div>
                <div id="finalScore"></div>
                <div style="margin-top: 10px; font-size: 16px;">ìŠ¤í˜ì´ìŠ¤ë°”ë¥¼ ëˆŒëŸ¬ ë‹¤ì‹œ ì‹œì‘</div>
            </div>
        </div>
    </div>

    <script>
        class RetroGameCollection {
            constructor() {
                this.canvas = document.getElementById('gameCanvas');
                this.ctx = this.canvas.getContext('2d');
                this.gameInfo = document.getElementById('gameInfo');
                this.scoreElement = document.getElementById('score');
                this.controlsElement = document.getElementById('controls');
                this.gameOverElement = document.getElementById('gameOver');
                this.finalScoreElement = document.getElementById('finalScore');
                
                this.currentGame = 'pong';
                this.games = {};
                this.keys = {};
                this.mouse = { x: 0, y: 0, clicked: false };
                this.touches = [];
                this.isPaused = false;
                this.gameStarted = false;
                
                this.initCanvas();
                this.initAudio();
                this.initControls();
                this.initGames();
                this.initTabs();
                this.startGameLoop();
            }
            
            initCanvas() {
                const resize = () => {
                    const maxWidth = Math.min(window.innerWidth - 20, 800);
                    const maxHeight = Math.min(window.innerHeight - 150, 600);
                    const aspectRatio = 4/3;
                    
                    if (maxWidth / maxHeight > aspectRatio) {
                        this.canvas.height = maxHeight;
                        this.canvas.width = maxHeight * aspectRatio;
                    } else {
                        this.canvas.width = maxWidth;
                        this.canvas.height = maxWidth / aspectRatio;
                    }
                };
                
                resize();
                window.addEventListener('resize', resize);
            }
            
            initAudio() {
                this.audioContext = new (window.AudioContext || window.webkitAudioContext)();
                
                this.playBeep = (frequency = 440, duration = 0.1, type = 'square') => {
                    const oscillator = this.audioContext.createOscillator();
                    const gainNode = this.audioContext.createGain();
                    
                    oscillator.connect(gainNode);
                    gainNode.connect(this.audioContext.destination);
                    
                    oscillator.frequency.value = frequency;
                    oscillator.type = type;
                    
                    gainNode.gain.setValueAtTime(0.1, this.audioContext.currentTime);
                    gainNode.gain.exponentialRampToValueAtTime(0.01, this.audioContext.currentTime + duration);
                    
                    oscillator.start(this.audioContext.currentTime);
                    oscillator.stop(this.audioContext.currentTime + duration);
                };
            }
            
            initControls() {
                // í‚¤ë³´ë“œ
                document.addEventListener('keydown', (e) => {
                    this.keys[e.key.toLowerCase()] = true;
                    if (e.key === ' ') {
                        e.preventDefault();
                        this.togglePause();
                    }
                });
                
                document.addEventListener('keyup', (e) => {
                    this.keys[e.key.toLowerCase()] = false;
                });
                
                // ë§ˆìš°ìŠ¤
                this.canvas.addEventListener('mousemove', (e) => {
                    const rect = this.canvas.getBoundingClientRect();
                    this.mouse.x = e.clientX - rect.left;
                    this.mouse.y = e.clientY - rect.top;
                });
                
                this.canvas.addEventListener('mousedown', (e) => {
                    this.mouse.clicked = true;
                    if (!this.gameStarted) this.startGame();
                });
                
                this.canvas.addEventListener('mouseup', () => {
                    this.mouse.clicked = false;
                });
                
                // í„°ì¹˜
                this.canvas.addEventListener('touchstart', (e) => {
                    e.preventDefault();
                    const rect = this.canvas.getBoundingClientRect();
                    this.touches = Array.from(e.touches).map(touch => ({
                        x: touch.clientX - rect.left,
                        y: touch.clientY - rect.top
                    }));
                    if (!this.gameStarted) this.startGame();
                });
                
                this.canvas.addEventListener('touchmove', (e) => {
                    e.preventDefault();
                    const rect = this.canvas.getBoundingClientRect();
                    this.touches = Array.from(e.touches).map(touch => ({
                        x: touch.clientX - rect.left,
                        y: touch.clientY - rect.top
                    }));
                });
                
                this.canvas.addEventListener('touchend', (e) => {
                    e.preventDefault();
                    this.touches = [];
                });
            }
            
            initGames() {
                this.games.pong = new PongGame(this);
                this.games.soccer = new SoccerGame(this);
                this.games.squash = new SquashGame(this);
                this.games.shooting = new ShootingGame(this);
            }
            
            initTabs() {
                document.querySelectorAll('.tab').forEach(tab => {
                    tab.addEventListener('click', () => {
                        document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
                        tab.classList.add('active');
                        this.switchGame(tab.dataset.game);
                    });
                });
            }
            
            switchGame(gameType) {
                this.currentGame = gameType;
                this.games[gameType].reset();
                this.gameStarted = false;
                this.isPaused = false;
                this.gameOverElement.style.display = 'none';
                this.updateUI();
            }
            
            togglePause() {
                if (this.gameOverElement.style.display === 'block') {
                    this.games[this.currentGame].reset();
                    this.gameOverElement.style.display = 'none';
                    this.gameStarted = false;
                    return;
                }
                
                this.isPaused = !this.isPaused;
                if (!this.gameStarted) this.startGame();
            }
            
            startGame() {
                this.gameStarted = true;
                if (this.audioContext.state === 'suspended') {
                    this.audioContext.resume();
                }
            }
            
            updateUI() {
                const game = this.games[this.currentGame];
                this.gameInfo.textContent = game.getInfo();
                this.scoreElement.textContent = game.getScore();
                this.controlsElement.textContent = game.getControls();
            }
            
            startGameLoop() {
                const gameLoop = () => {
                    this.ctx.fillStyle = '#000';
                    this.ctx.fillRect(0, 0, this.canvas.width, this.canvas.height);
                    
                    if (this.gameStarted && !this.isPaused) {
                        this.games[this.currentGame].update();
                    }
                    
                    this.games[this.currentGame].draw();
                    this.updateUI();
                    
                    // ì¼ì‹œì •ì§€ í‘œì‹œ
                    if (this.isPaused && this.gameStarted) {
                        this.ctx.fillStyle = '#fff';
                        this.ctx.font = '48px Courier';
                        this.ctx.textAlign = 'center';
                        this.ctx.fillText('ì¼ì‹œì •ì§€', this.canvas.width / 2, this.canvas.height / 2);
                    }
                    
                    // ì‹œì‘ í™”ë©´
                    if (!this.gameStarted) {
                        this.ctx.fillStyle = '#888';
                        this.ctx.font = '24px Courier';
                        this.ctx.textAlign = 'center';
                        this.ctx.fillText('ìŠ¤í˜ì´ìŠ¤ë°”ë‚˜ í´ë¦­ìœ¼ë¡œ ì‹œì‘', this.canvas.width / 2, this.canvas.height / 2 + 50);
                    }
                    
                    requestAnimationFrame(gameLoop);
                };
                gameLoop();
            }
            
            showGameOver(finalScore) {
                this.finalScoreElement.textContent = finalScore;
                this.gameOverElement.style.display = 'block';
                this.gameStarted = false;
            }
        }
        
        class PongGame {
            constructor(gameEngine) {
                this.engine = gameEngine;
                this.reset();
            }
            
            reset() {
                const canvas = this.engine.canvas;
                this.leftPaddle = {
                    x: 20, y: canvas.height / 2 - 40,
                    width: 10, height: 80, speed: 5
                };
                this.rightPaddle = {
                    x: canvas.width - 30, y: canvas.height / 2 - 40,
                    width: 10, height: 80, speed: 5
                };
                this.ball = {
                    x: canvas.width / 2, y: canvas.height / 2,
                    width: 10, height: 10,
                    dx: 3, dy: 2, speed: 3
                };
                this.score = { left: 0, right: 0 };
                this.maxScore = 11;
            }
            
            update() {
                const canvas = this.engine.canvas;
                const keys = this.engine.keys;
                const touches = this.engine.touches;
                
                // íŒ¨ë“¤ ì›€ì§ì„
                if (keys['w'] && this.leftPaddle.y > 0) {
                    this.leftPaddle.y -= this.leftPaddle.speed;
                }
                if (keys['s'] && this.leftPaddle.y < canvas.height - this.leftPaddle.height) {
                    this.leftPaddle.y += this.leftPaddle.speed;
                }
                if (keys['arrowup'] && this.rightPaddle.y > 0) {
                    this.rightPaddle.y -= this.rightPaddle.speed;
                }
                if (keys['arrowdown'] && this.rightPaddle.y < canvas.height - this.rightPaddle.height) {
                    this.rightPaddle.y += this.rightPaddle.speed;
                }
                
                // í„°ì¹˜ ì»¨íŠ¸ë¡¤
                if (touches.length > 0) {
                    const touch = touches[0];
                    if (touch.x < canvas.width / 2) {
                        this.leftPaddle.y = touch.y - this.leftPaddle.height / 2;
                    } else {
                        this.rightPaddle.y = touch.y - this.rightPaddle.height / 2;
                    }
                }
                
                // ê³µ ì›€ì§ì„
                this.ball.x += this.ball.dx;
                this.ball.y += this.ball.dy;
                
                // ê³µ ë²½ ì¶©ëŒ
                if (this.ball.y <= 0 || this.ball.y >= canvas.height - this.ball.height) {
                    this.ball.dy *= -1;
                    this.engine.playBeep(220, 0.1);
                }
                
                // íŒ¨ë“¤ ì¶©ëŒ
                if (this.checkCollision(this.ball, this.leftPaddle) || 
                    this.checkCollision(this.ball, this.rightPaddle)) {
                    this.ball.dx *= -1;
                    this.ball.speed += 0.1;
                    this.ball.dx = this.ball.dx > 0 ? this.ball.speed : -this.ball.speed;
                    this.engine.playBeep(440, 0.1);
                }
                
                // ì ìˆ˜
                if (this.ball.x < 0) {
                    this.score.right++;
                    this.engine.playBeep(880, 0.3);
                    this.resetBall();
                }
                if (this.ball.x > canvas.width) {
                    this.score.left++;
                    this.engine.playBeep(880, 0.3);
                    this.resetBall();
                }
                
                // ê²Œì„ ì˜¤ë²„
                if (this.score.left >= this.maxScore || this.score.right >= this.maxScore) {
                    const winner = this.score.left >= this.maxScore ? 'Player 1' : 'Player 2';
                    this.engine.showGameOver(`${winner} ìŠ¹ë¦¬! ${this.score.left} - ${this.score.right}`);
                }
            }
            
            resetBall() {
                const canvas = this.engine.canvas;
                this.ball.x = canvas.width / 2;
                this.ball.y = canvas.height / 2;
                this.ball.dx = (Math.random() > 0.5 ? 1 : -1) * 3;
                this.ball.dy = (Math.random() - 0.5) * 4;
                this.ball.speed = 3;
            }
            
            checkCollision(rect1, rect2) {
                return rect1.x < rect2.x + rect2.width &&
                       rect1.x + rect1.width > rect2.x &&
                       rect1.y < rect2.y + rect2.height &&
                       rect1.y + rect1.height > rect2.y;
            }
            
            draw() {
                const ctx = this.engine.ctx;
                ctx.fillStyle = '#fff';
                
                // ì¤‘ì•™ì„ 
                ctx.setLineDash([5, 5]);
                ctx.beginPath();
                ctx.moveTo(this.engine.canvas.width / 2, 0);
                ctx.lineTo(this.engine.canvas.width / 2, this.engine.canvas.height);
                ctx.strokeStyle = '#fff';
                ctx.stroke();
                ctx.setLineDash([]);
                
                // íŒ¨ë“¤
                ctx.fillRect(this.leftPaddle.x, this.leftPaddle.y, this.leftPaddle.width, this.leftPaddle.height);
                ctx.fillRect(this.rightPaddle.x, this.rightPaddle.y, this.rightPaddle.width, this.rightPaddle.height);
                
                // ê³µ
                ctx.fillRect(this.ball.x, this.ball.y, this.ball.width, this.ball.height);
            }
            
            getInfo() { return 'ì¡°ì‘: W/S (Player1), â†‘/â†“ (Player2), Space (ì¼ì‹œì •ì§€)'; }
            getScore() { return `ì ìˆ˜: ${this.score.left} - ${this.score.right}`; }
            getControls() { return 'í…Œë‹ˆìŠ¤: íŒ¨ë“¤ì„ ì›€ì§ì—¬ ê³µì„ ìƒëŒ€ë°© ìª½ìœ¼ë¡œ íŠ•ê²¨ë³´ì„¸ìš”!'; }
        }
        
        class SoccerGame {
            constructor(gameEngine) {
                this.engine = gameEngine;
                this.reset();
            }
            
            reset() {
                const canvas = this.engine.canvas;
                this.player = {
                    x: canvas.width / 2 - 10, y: canvas.height - 40,
                    width: 20, height: 20, speed: 6
                };
                this.ball = {
                    x: canvas.width / 2, y: canvas.height / 2,
                    width: 12, height: 12,
                    dx: 0, dy: 0, speed: 0
                };
                this.goalkeeper = {
                    x: canvas.width / 2 - 25, y: 20,
                    width: 50, height: 15, speed: 3, direction: 1
                };
                this.goal = {
                    x: canvas.width / 2 - 60, y: 0,
                    width: 120, height: 30
                };
                this.score = 0;
                this.shots = 0;
                this.gameTime = 0;
            }
            
            update() {
                const canvas = this.engine.canvas;
                const keys = this.engine.keys;
                const touches = this.engine.touches;
                
                this.gameTime++;
                
                // í”Œë ˆì´ì–´ ì›€ì§ì„
                if (keys['arrowleft'] && this.player.x > 0) {
                    this.player.x -= this.player.speed;
                }
                if (keys['arrowright'] && this.player.x < canvas.width - this.player.width) {
                    this.player.x += this.player.speed;
                }
                if (keys['arrowup'] && this.player.y > canvas.height / 2) {
                    this.player.y -= this.player.speed;
                }
                if (keys['arrowdown'] && this.player.y < canvas.height - this.player.width) {
                    this.player.y += this.player.speed;
                }
                
                // í„°ì¹˜ ì»¨íŠ¸ë¡¤
                if (touches.length > 0) {
                    const touch = touches[0];
                    this.player.x = touch.x - this.player.width / 2;
                    this.player.y = touch.y - this.player.height / 2;
                }
                
                // ê³µ ì°¨ê¸°
                if (keys[' '] && this.ball.speed === 0) {
                    const dx = this.ball.x - this.player.x;
                    const dy = this.ball.y - this.player.y;
                    const distance = Math.sqrt(dx * dx + dy * dy);
                    
                    if (distance < 30) {
                        this.ball.dx = -dy / distance * 5;
                        this.ball.dy = -dx / distance * 5;
                        this.ball.speed = 5;
                        this.shots++;
                        this.engine.playBeep(330, 0.2);
                    }
                }
                
                // ê³µ ì›€ì§ì„
                if (this.ball.speed > 0) {
                    this.ball.x += this.ball.dx;
                    this.ball.y += this.ball.dy;
                    this.ball.speed *= 0.98; // ë§ˆì°°
                    
                    if (this.ball.speed < 0.5) {
                        this.ball.speed = 0;
                        this.ball.dx = 0;
                        this.ball.dy = 0;
                    }
                }
                
                // ê³µ ë²½ ì¶©ëŒ
                if (this.ball.x <= 0 || this.ball.x >= canvas.width - this.ball.width) {
                    this.ball.dx *= -0.8;
                    this.engine.playBeep(220, 0.1);
                }
                if (this.ball.y <= 0 || this.ball.y >= canvas.height - this.ball.height) {
                    this.ball.dy *= -0.8;
                    this.engine.playBeep(220, 0.1);
                }
                
                // ê³¨í‚¤í¼ ì›€ì§ì„
                this.goalkeeper.x += this.goalkeeper.speed * this.goalkeeper.direction;
                if (this.goalkeeper.x <= this.goal.x || 
                    this.goalkeeper.x >= this.goal.x + this.goal.width - this.goalkeeper.width) {
                    this.goalkeeper.direction *= -1;
                }
                
                // ê³¨í‚¤í¼ ì¶©ëŒ
                if (this.checkCollision(this.ball, this.goalkeeper)) {
                    this.ball.dy = Math.abs(this.ball.dy);
                    this.engine.playBeep(440, 0.1);
                }
                
                // ê³¨ ì²´í¬
                if (this.ball.y <= this.goal.height && 
                    this.ball.x >= this.goal.x && 
                    this.ball.x <= this.goal.x + this.goal.width) {
                    this.score++;
                    this.engine.playBeep(880, 0.5);
                    this.resetBall();
                }
                
                // ê²Œì„ ì˜¤ë²„ (ì‹œê°„ ë˜ëŠ” ì‹œë„ íšŸìˆ˜)
                if (this.shots >= 10) {
                    this.engine.showGameOver(`ê²Œì„ ì¢…ë£Œ! ê³¨: ${this.score} / ì‹œë„: ${this.shots}`);
                }
            }
            
            resetBall() {
                this.ball.x = this.engine.canvas.width / 2;
                this.ball.y = this.engine.canvas.height / 2;
                this.ball.dx = 0;
                this.ball.dy = 0;
                this.ball.speed = 0;
            }
            
            checkCollision(rect1, rect2) {
                return rect1.x < rect2.x + rect2.width &&
                       rect1.x + rect1.width > rect2.x &&
                       rect1.y < rect2.y + rect2.height &&
                       rect1.y + rect1.height > rect2.y;
            }
            
            draw() {
                const ctx = this.engine.ctx;
                ctx.fillStyle = '#fff';
                
                // ê³¨ëŒ€
                ctx.strokeStyle = '#fff';
                ctx.lineWidth = 2;
                ctx.strokeRect(this.goal.x, this.goal.y, this.goal.width, this.goal.height);
                
                // ê³¨í‚¤í¼
                ctx.fillRect(this.goalkeeper.x, this.goalkeeper.y, this.goalkeeper.width, this.goalkeeper.height);
                
                // í”Œë ˆì´ì–´
                ctx.fillRect(this.player.x, this.player.y, this.player.width, this.player.height);
                
                // ê³µ
                ctx.beginPath();
                ctx.arc(this.ball.x + this.ball.width/2, this.ball.y + this.ball.height/2, this.ball.width/2, 0, Math.PI * 2);
                ctx.fill();
                
                // ì¤‘ì•™ì„ 
                ctx.setLineDash([5, 5]);
                ctx.beginPath();
                ctx.moveTo(0, this.engine.canvas.height / 2);
                ctx.lineTo(this.engine.canvas.width, this.engine.canvas.height / 2);
                ctx.stroke();
                ctx.setLineDash([]);
            }
            
            getInfo() { return 'ì¡°ì‘: í™”ì‚´í‘œí‚¤ (ì´ë™), Space (í‚¥), í„°ì¹˜ (ì´ë™)'; }
            getScore() { return `ê³¨: ${this.score} | ì‹œë„: ${this.shots}/10`; }
            getControls() { return 'ì¶•êµ¬: ê³µì— ê°€ê¹Œì´ ê°€ì„œ ìŠ¤í˜ì´ìŠ¤ë°”ë¡œ ê³¨ëŒ€ì— ì°¨ë„£ìœ¼ì„¸ìš”!'; }
        }
        
        class SquashGame {
            constructor(gameEngine) {
                this.engine = gameEngine;
                this.reset();
            }
            
            reset() {
                const canvas = this.engine.canvas;
                this.paddle = {
                    x: canvas.width / 2 - 10, y: canvas.height - 30,
                    width: 60, height: 10, speed: 8
                };
                this.ball = {
                    x: canvas.width / 2, y: canvas.height / 2,
                    width: 8, height: 8,
                    dx: 3, dy: -3, speed: 3
                };
                this.score = 0;
                this.lives = 3;
                this.level = 1;
            }
            
            update() {
                const canvas = this.engine.canvas;
                const keys = this.engine.keys;
                const touches = this.engine.touches;
                
                // íŒ¨ë“¤ ì›€ì§ì„
                if (keys['arrowleft'] && this.paddle.x > 0) {
                    this.paddle.x -= this.paddle.speed;
                }
                if (keys['arrowright'] && this.paddle.x < canvas.width - this.paddle.width) {
                    this.paddle.x += this.paddle.speed;
                }
                
                // í„°ì¹˜ ì»¨íŠ¸ë¡¤
                if (touches.length > 0) {
                    this.paddle.x = touches[0].x - this.paddle.width / 2;
                }
                
                // ê³µ ì›€ì§ì„
                this.ball.x += this.ball.dx;
                this.ball.y += this.ball.dy;
                
                // ë²½ ì¶©ëŒ (ì¢Œìš°ìƒ)
                if (this.ball.x <= 0 || this.ball.x >= canvas.width - this.ball.width) {
                    this.ball.dx *= -1;
                    this.engine.playBeep(220, 0.1);
                }
                if (this.ball.y <= 0) {
                    this.ball.dy *= -1;
                    this.engine.playBeep(220, 0.1);
                    this.score += 10;
                }
                
                // íŒ¨ë“¤ ì¶©ëŒ
                if (this.checkCollision(this.ball, this.paddle) && this.ball.dy > 0) {
                    this.ball.dy *= -1;
                    
                    // íŒ¨ë“¤ ì¤‘ì‹¬ì—ì„œì˜ ê±°ë¦¬ì— ë”°ë¼ ê°ë„ ì¡°ì ˆ
                    const paddleCenter = this.paddle.x + this.paddle.width / 2;
                    const ballCenter = this.ball.x + this.ball.width / 2;
                    const offset = (ballCenter - paddleCenter) / (this.paddle.width / 2);
                    this.ball.dx = offset * 4;
                    
                    this.engine.playBeep(440, 0.1);
                    this.score += 1;
                }
                
                // ê³µì´ ë°”ë‹¥ì— ë–¨ì–´ì§
                if (this.ball.y >= canvas.height) {
                    this.lives--;
                    this.engine.playBeep(110, 0.5);
                    
                    if (this.lives <= 0) {
                        this.engine.showGameOver(`ê²Œì„ ì˜¤ë²„! ì ìˆ˜: ${this.score}`);
                    } else {
                        this.resetBall();
                    }
                }
                
                // ë ˆë²¨ ì—…
                if (this.score > 0 && this.score % 100 === 0) {
                    this.level++;
                    this.ball.speed += 0.5;
                    const speedRatio = this.ball.speed / Math.sqrt(this.ball.dx * this.ball.dx + this.ball.dy * this.ball.dy);
                    this.ball.dx *= speedRatio;
                    this.ball.dy *= speedRatio;
                }
            }
            
            resetBall() {
                this.ball.x = this.engine.canvas.width / 2;
                this.ball.y = this.engine.canvas.height / 2;
                this.ball.dx = (Math.random() - 0.5) * 6;
                this.ball.dy = -Math.abs(this.ball.dy);
            }
            
            checkCollision(rect1, rect2) {
                return rect1.x < rect2.x + rect2.width &&
                       rect1.x + rect1.width > rect2.x &&
                       rect1.y < rect2.y + rect2.height &&
                       rect1.y + rect1.height > rect2.y;
            }
            
            draw() {
                const ctx = this.engine.ctx;
                ctx.fillStyle = '#fff';
                
                // íŒ¨ë“¤
                ctx.fillRect(this.paddle.x, this.paddle.y, this.paddle.width, this.paddle.height);
                
                // ê³µ
                ctx.fillRect(this.ball.x, this.ball.y, this.ball.width, this.ball.height);
                
                // ë¼ì´í”„ í‘œì‹œ
                for (let i = 0; i < this.lives; i++) {
                    ctx.fillRect(10 + i * 15, 10, 10, 10);
                }
            }
            
            getInfo() { return 'ì¡°ì‘: â†/â†’ (íŒ¨ë“¤ ì´ë™), í„°ì¹˜ (íŒ¨ë“¤ ì´ë™)'; }
            getScore() { return `ì ìˆ˜: ${this.score} | ë¼ì´í”„: ${this.lives} | ë ˆë²¨: ${this.level}`; }
            getControls() { return 'ìŠ¤ì¿¼ì‹œ: íŒ¨ë“¤ë¡œ ê³µì„ íŠ•ê²¨ì„œ ë²½ì— ë§íˆì„¸ìš”! ê³µì„ ë–¨ì–´ëœ¨ë¦¬ì§€ ë§ˆì„¸ìš”!'; }
        }
        
        class ShootingGame {
            constructor(gameEngine) {
                this.engine = gameEngine;
                this.reset();
            }
            
            reset() {
                const canvas = this.engine.canvas;
                this.crosshair = { x: canvas.width / 2, y: canvas.height / 2 };
                this.targets = [];
                this.bullets = [];
                this.score = 0;
                this.ammo = 20;
                this.targetSpawnTimer = 0;
                this.gameTime = 0;
            }
            
            update() {
                const canvas = this.engine.canvas;
                const mouse = this.engine.mouse;
                const touches = this.engine.touches;
                
                this.gameTime++;
                
                // í¬ë¡œìŠ¤í—¤ì–´ ìœ„ì¹˜ (ë§ˆìš°ìŠ¤ ë˜ëŠ” í„°ì¹˜)
                if (touches.length > 0) {
                    this.crosshair.x = touches[0].x;
                    this.crosshair.y = touches[0].y;
                } else {
                    this.crosshair.x = mouse.x;
                    this.crosshair.y = mouse.y;
                }
                
                // ë°œì‚¬
                if ((mouse.clicked || touches.length > 0) && this.ammo > 0) {
                    this.bullets.push({
                        x: canvas.width / 2,
                        y: canvas.height - 20,
                        dx: (this.crosshair.x - canvas.width / 2) * 0.1,
                        dy: (this.crosshair.y - canvas.height + 20) * 0.1,
                        life: 60
                    });
                    this.ammo--;
                    this.engine.playBeep(660, 0.1);
                    mouse.clicked = false;
                }
                
                // íƒ€ê²Ÿ ìƒì„±
                this.targetSpawnTimer++;
                if (this.targetSpawnTimer > 60) {
                    this.targets.push({
                        x: Math.random() * (canvas.width - 30),
                        y: Math.random() * (canvas.height / 2),
                        width: 20, height: 20,
                        dx: (Math.random() - 0.5) * 4,
                        dy: (Math.random() - 0.5) * 2,
                        life: 180
                    });
                    this.targetSpawnTimer = 0;
                }
                
                // íƒ€ê²Ÿ ì—…ë°ì´íŠ¸
                this.targets = this.targets.filter(target => {
                    target.x += target.dx;
                    target.y += target.dy;
                    target.life--;
                    
                    // ë²½ ì¶©ëŒ
                    if (target.x <= 0 || target.x >= canvas.width - target.width) {
                        target.dx *= -1;
                    }
                    if (target.y <= 0 || target.y >= canvas.height / 2) {
                        target.dy *= -1;
                    }
                    
                    return target.life > 0;
                });
                
                // ì´ì•Œ ì—…ë°ì´íŠ¸
                this.bullets = this.bullets.filter(bullet => {
                    bullet.x += bullet.dx;
                    bullet.y += bullet.dy;
                    bullet.life--;
                    
                    // íƒ€ê²Ÿê³¼ ì¶©ëŒ ì²´í¬
                    for (let i = this.targets.length - 1; i >= 0; i--) {
                        const target = this.targets[i];
                        if (bullet.x >= target.x && bullet.x <= target.x + target.width &&
                            bullet.y >= target.y && bullet.y <= target.y + target.height) {
                            this.targets.splice(i, 1);
                            this.score += 10;
                            this.engine.playBeep(880, 0.2);
                            return false; // ì´ì•Œ ì œê±°
                        }
                    }
                    
                    return bullet.life > 0 && bullet.x >= 0 && bullet.x <= canvas.width &&
                           bullet.y >= 0 && bullet.y <= canvas.height;
                });
                
                // ê²Œì„ ì˜¤ë²„
                if (this.ammo <= 0 && this.bullets.length === 0) {
                    this.engine.showGameOver(`ê²Œì„ ì¢…ë£Œ! ì ìˆ˜: ${this.score}`);
                }
            }
            
            draw() {
                const ctx = this.engine.ctx;
                const canvas = this.engine.canvas;
                
                // íƒ€ê²Ÿë“¤
                ctx.fillStyle = '#f00';
                this.targets.forEach(target => {
                    ctx.fillRect(target.x, target.y, target.width, target.height);
                });
                
                // ì´ì•Œë“¤
                ctx.fillStyle = '#ff0';
                this.bullets.forEach(bullet => {
                    ctx.fillRect(bullet.x - 1, bullet.y - 1, 2, 2);
                });
                
                // í¬ë¡œìŠ¤í—¤ì–´
                ctx.strokeStyle = '#0f0';
                ctx.lineWidth = 2;
                ctx.beginPath();
                ctx.moveTo(this.crosshair.x - 10, this.crosshair.y);
                ctx.lineTo(this.crosshair.x + 10, this.crosshair.y);
                ctx.moveTo(this.crosshair.x, this.crosshair.y - 10);
                ctx.lineTo(this.crosshair.x, this.crosshair.y + 10);
                ctx.stroke();
                
                // ë°œì‚¬ ìœ„ì¹˜ (ëŒ€í¬)
                ctx.fillStyle = '#fff';
                ctx.fillRect(canvas.width / 2 - 10, canvas.height - 25, 20, 20);
            }
            
            getInfo() { return 'ì¡°ì‘: ë§ˆìš°ìŠ¤ ì›€ì§ì„ (ì¡°ì¤€), í´ë¦­ (ë°œì‚¬), í„°ì¹˜ (ì¡°ì¤€&ë°œì‚¬)'; }
            getScore() { return `ì ìˆ˜: ${this.score} | íƒ„ì•½: ${this.ammo}`; }
            getControls() { return 'ì‚¬ê²©: ë¹¨ê°„ íƒ€ê²Ÿì„ ì¡°ì¤€í•´ì„œ ì˜ì„¸ìš”! íƒ„ì•½ì„ ì•„ê»´ê°€ë©° ë†’ì€ ì ìˆ˜ë¥¼ ë…¸ë¦¬ì„¸ìš”!'; }
        }
        
        // ê²Œì„ ì‹œì‘
        document.addEventListener('DOMContentLoaded', () => {
            new RetroGameCollection();
        });
    </script>
</body>
</html> 